{"version":3,"sources":["components/Form.js","components/Search.js","components/Person.js","components/People.js","components/ErrorMessage.js","components/SuccessMessage.js","services/persons.js","App.js","index.js"],"names":["Form","handleSubmit","setNewName","newName","setNewNumber","newNumber","onSubmit","type","value","onChange","e","target","Search","searchString","setSearchString","Person","name","number","handleDelete","onClick","People","people","map","person","id","ErrorMessage","message","style","color","backgroundColor","fontSize","border","borderRadius","padding","margin","SuccessMessage","baseUrl","axios","get","then","response","data","newPerson","post","updatedPerson","put","delete","App","useState","persons","setPersons","errorMessage","setErrorMessage","successMessage","setSuccessMessage","filteredPersons","filter","toLowerCase","includes","useEffect","personService","res","setTimeout","event","preventDefault","some","a","window","confirm","find","returnedPerson","catch","n","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1b2d16bd.chunk.js","sourcesContent":["const Form = ({ handleSubmit, setNewName, newName, setNewNumber, newNumber }) => <form onSubmit={handleSubmit} ><label>Name: <input type='text' value={newName} onChange={(e) => setNewName(e.target.value)} /></label><br /><label>Number: <input type='text' value={newNumber} onChange={(e) => setNewNumber(e.target.value)} /></label><div><button type=\"submit\">Add to phonebook</button></div></form>\r\n\r\nexport default Form\r\n","const Search = ({ searchString, setSearchString }) => <label>Filter persons: <input type='text' value={searchString} onChange={(e) => setSearchString(e.target.value)} /></label>\r\n\r\nexport default Search\r\n","const Person = ({ name, number, handleDelete }) => <p key={name}>{name} - {number} <button onClick={() => handleDelete()}>Delete</button></p>\r\n\r\nexport default Person\r\n","import Person from './Person'\r\n\r\nconst People = ({ people, handleDelete }) => people.map(person => <Person key={person.name} name={person.name} number={person.number} handleDelete={() => handleDelete(person.name, person.id)} />)\r\n\r\nexport default People\r\n","const ErrorMessage = ({ message }) => {\r\n\r\n  const style = {\r\n    color: 'LightCoral',\r\n    backgroundColor: 'LightPink',\r\n    fontSize: '20px',\r\n    border: '3px solid LightCoral',\r\n    borderRadius: '5px',\r\n    padding: '20px',\r\n    margin: '20px 0'\r\n  }\r\n\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div style={style}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ErrorMessage\r\n","const SuccessMessage = ({ message }) => {\r\n\r\n  const style = {\r\n    color: 'ForestGreen',\r\n    backgroundColor: 'LightGreen',\r\n    fontSize: '20px',\r\n    border: '3px solid ForestGreen',\r\n    borderRadius: '5px',\r\n    padding: '20px',\r\n    margin: '20px 0'\r\n  }\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div style={style}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SuccessMessage\r\n","import axios from 'axios'\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAllPersons = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst createPerson = newPerson => {\r\n  const request = axios.post(baseUrl, newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst updatePerson = (id, updatedPerson) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, updatedPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => axios.delete(`${baseUrl}/${id}`)\r\n\r\nexport default { getAllPersons, createPerson, updatePerson, deletePerson }\r\n","import React, { useState, useEffect } from 'react'\n\nimport Form from './components/Form'\nimport Search from './components/Search'\nimport People from './components/People'\nimport ErrorMessage from './components/ErrorMessage'\nimport SuccessMessage from './components/SuccessMessage'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [errorMessage, setErrorMessage] = useState('No users found')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [searchString, setSearchString] = useState('')\n  const filteredPersons = persons.filter(person => person.name.toLowerCase().includes(searchString.toLowerCase()))\n\n  const checkIfExist = () => persons.some(a => a.name === newName)\n\n  const addToPhoneBook = () => {\n    personService\n      .createPerson({ name: newName, number: newNumber })\n      .then(res => {\n        setPersons(persons.concat(res))\n        setSuccessMessage(`${newName} successfully added to the phone book`)\n      })\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    if (checkIfExist(newName)) {\n      if (window.confirm(`${newName} already exists. Do you want to update the number?`)) {\n        const person = persons.find(person => person.name === newName)\n        const updatedPerson = { ...person, number: newNumber }\n        personService.updatePerson(person.id, updatedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\n            setSuccessMessage(`${returnedPerson.name} successfully updated!`)\n          })\n          .catch(() => {\n            setErrorMessage(`Unable to find and update ${newName}`)\n            setPersons(persons.filter(n => n.id !== person.id))\n          })\n      }\n    } else {\n      addToPhoneBook()\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleDelete = (name, id) => {\n    if (window.confirm(`Are you sure you want to delete ${name}? (id: ${id})`)) {\n      personService.deletePerson(id)\n      setPersons(persons.filter(person => person.id !== id))\n      setSuccessMessage(`${name} successfully deleted`)\n    }\n  }\n\n  useEffect(() => {\n    personService\n      .getAllPersons()\n      .then(res => {\n        setPersons(res)\n        setErrorMessage(null)\n        setSuccessMessage(null)\n      })\n  }, [])\n\n  useEffect(() => {\n    setTimeout(() => {\n      setErrorMessage(null)\n      setSuccessMessage(null)\n    }, 3000)\n  }, [errorMessage, successMessage])\n\n\n\n  return (\n    <div>\n      <h1>Phone book</h1>\n      <ErrorMessage message={errorMessage} />\n      <SuccessMessage message={successMessage} />\n      <Search searchString={searchString} setSearchString={setSearchString} />\n      <h2>Add a new person and number</h2>\n      <Form handleSubmit={handleSubmit} setNewName={setNewName} newName={newName} setNewNumber={setNewNumber} newNumber={newNumber} />\n      <h2>People in the phone book</h2>\n      <People people={filteredPersons} handleDelete={handleDelete} />\n    </div >\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}